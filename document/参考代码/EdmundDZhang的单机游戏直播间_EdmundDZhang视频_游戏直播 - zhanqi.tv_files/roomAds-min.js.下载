+function(){var o={_ui:{},oHeight:{max:0,min:0},lastHeight:0,lastClientY:0,startClientY:0,init:function(){this.view(),this.bindEvent(),this.listenYpEvent(),this.fCheckAdsID()},view:function(){var o=this._ui;o.$room_ads_panel=$("#js-room-ads-panel"),o.$room_ads_slide_btn=o.$room_ads_panel.find(".js-slide-btn"),o.$room_ads_slide_layer=o.$room_ads_panel.find(".js-slide-layer"),this.oHeight.max=o.$room_ads_slide_layer.find(".js-slide-content").outerHeight()},tongjiPush:!1,bindEvent:function(){function o(o){o.preventDefault();var i=o.clientY-t.lastClientY;t.lastClientY=o.clientY,t.lastHeight=Math.max(Math.min(t.lastHeight+i,t.oHeight.max),t.oHeight.min),n.$room_ads_slide_layer.css({height:t.lastHeight}),n.$room_ads_slide_btn.hasClass("round-animation")&&(n.$room_ads_panel.removeClass("pullpic-light"),n.$room_ads_slide_btn.removeClass("round-animation"))}function i(e){s.off("mousemove",o),s.off("mouseup",i),s.off("mouseleave",i),t.lastClientY!=t.startClientY?_hmt.push(["_trackEvent","room","ring_ads_moved"]):(t.lastHeight=t.lastHeight==t.oHeight.min?t.oHeight.max:t.oHeight.min,n.$room_ads_slide_layer.animate({height:t.lastHeight}),_hmt.push(["_trackEvent","room","ring_ads_clicked"])),t.fSetAdsId(),t.oHeight.min<t.lastHeight?t.tongjiPush||(hmtTongJi("siteBanner","room_pull_banner_show",oPageConfig.oRoom.gameId,oPageConfig.oRoom.id),t.tongjiPush=!0):t.tongjiPush=!1}function e(e){s.on("mousemove",o),s.on("mouseup",i),s.on("mouseleave",i)}var t=this,n=t._ui,s=$("body");n.$room_ads_slide_btn.on("mousedown",function(o){o.preventDefault(),t.lastClientY=o.clientY,t.startClientY=o.clientY,e()})},listenYpEvent:function(){var o=this,i=o._ui;yp.sub("page/login/anchor",function(){i.$room_ads_panel.hide()}),yp.sub("page/logout/done",function(){i.$room_ads_panel.show()})},fCheckAdsID:function(){var o=this,i=o._ui,e=[],t="",n=$.cookie("idsCookie");yp.each(i.$room_ads_panel.find(".js-room-ads-item"),function(o){e.push($(o).data("id"))}),t=e.join("_"),n!=t&&(i.$room_ads_panel.addClass("pullpic-light"),i.$room_ads_slide_btn.addClass("round-animation"))},fSetAdsId:function(){var o=this,i=o._ui,e=[],t="",n=$.cookie("idsCookie");if(yp.each(i.$room_ads_panel.find(".js-room-ads-item"),function(o){e.push($(o).data("id"))}),t=e.join("_"),n!=t){var s=new Date;s.setTime(s.getTime()+31536e7),$.cookie("idsCookie",t,{expires:s,path:"/"})}}};"undefined"!=typeof module?module.exports=o:"function"==typeof define&&define.amd?define(function(){return o}):window.oRoomAds=o}();