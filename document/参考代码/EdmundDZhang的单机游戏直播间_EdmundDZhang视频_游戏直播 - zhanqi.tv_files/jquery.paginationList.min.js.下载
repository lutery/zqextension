+function(t){"use strict";var a=function(a,n){this.$element=t(a),this.options=n,this.list={curPage:0,reload:!0},this.init()};a.DEFAULTS={defaultVal:"",autoLoad:!0,paginationOpt:null},a.prototype={init:function(){this.view(),this.options.autoLoad&&this.fLoadPage(1)},view:function(){var t=this,a=t.options.paginationOpt||{};a.onPageChange=function(a,n,i){t.fListPatination(a,n,i)},t.options.$pagination.pagination(a)},fListPatination:function(a,n,i){var o=this;if(i.data("ajaxing"))return!1;var e;if(o.options.$form)var e=o.options.$form.serializeArray();else e=[];e.push({name:"_v",value:Math.floor(t.now()/6e4)}),i.data("ajaxing",!0),o.list.curPage=a,yp.ajax(n,{type:"get",data:e,dataType:"json"}).done(function(t){if(o.options.fDataGet&&o.options.fDataGet(t,a),i.data("ajaxing",!1),0==t.code){if(o.list.reload||o.list.curPage!=a){var n=i.data("pagination").options;n.count=t.data.cnt,n.curPage=a,n.totalPage=Math.ceil(n.count/n.prePage),i.html(i.data("pagination").fGetPagination()),o.list.reload=!1,o.options.$total&&o.options.$total.html(n.count)}var e,s="";yp.each(t.data[o.options.dataKey||"videos"],function(t,n){e=o.options.fDataFormat?o.options.fDataFormat(t,n,a):t,s+=yp.format(o.options.tmplHtml,e)}),s?(o.$element.html(s),o.options.fAfterRander&&o.options.fAfterRander.call(o.$element)):o.options.fNoData&&o.options.fNoData.call(o.$element,a)}else t.message&&yp.errorNotify(t.message)})},fReload:function(t){var a=this,n=a.options.$pagination.data("pagination").options,i=n.curPage;t&&i--,0>=i&&i++,a.fLoadPage(i)},fLoadPage:function(t){var a=this,n=a.options.$pagination.data("pagination").fGetUrl(t);a.list.reload=!0,a.fListPatination(t,n,a.options.$pagination)}};var n=t.fn.zqPagination;t.fn.zqPagination=function(n){var i=2<=arguments.length?[].slice.call(arguments,1):[];return this.each(function(){var o=t(this),e=o.data("oPaginationList"),s=t.extend({},a.DEFAULTS,o.data(),"object"==typeof n&&n);e||o.data("oPaginationList",e=new a(this,s)),"string"==typeof n&&e[n].apply(e,i)})},t.fn.zqPagination.Constructor=a,t.fn.zqPagination.noConflict=function(){return t.fn.zqPagination=n,this}}(window.jQuery);