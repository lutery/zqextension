+function(a){"use strict";var t=function(t,e){this.$element=a(t),this.options=e,this.init()};t.DEFAULTS={count:0,prePage:20,curPage:1,onPageChange:null,defaultUrl:"",urlParam:"page",prevText:"上一页",nextText:"下一页",ellipseText:"...",fullHtml:!0},t.prototype={init:function(){this.view(),this.bindEvent()},view:function(){var a=this,t=a.options;t.totalPage=Math.ceil(t.count/t.prePage),6>=t.totalPage&&(t.showGO=!1),a.$element.html(a.fGetPagination())},bindEvent:function(){var t=this,e=t.options;t.$element.on("click",".pageItem",function(){var n,i=a(this);return i.hasClass("pre")||i.hasClass("next")?e.curPage=i.data("page"):e.curPage=i.closest("li").data("page"),n=i.closest("li"),n.hasClass("disabled")||n.hasClass("active")?!1:e.onPageChange?(t.$element.html(t.fGetPagination()),e.onPageChange(e.curPage,i.attr("href"),t.$element),!1):void 0})},fGetPagination:function(){function a(a,t){var e=[+t-2,+t+2];if(e[0]=Math.max(e[0],1),e[1]=Math.min(e[1],a),4>e[1]-e[0]&&a>4){var n,i=4-(e[1]-e[0]);if(1==e[0])for(n=0;i>n&&(e[1]++,a!=e[1]);n++);else if(a=e[1])for(n=0;i>n&&(e[0]--,1!=e[0]);n++);}return e}var t=this,e=t.options,n=e.curPage,i=e.totalPage,o=a(i,n),s="",l="";if(0==i)return l;var r=1==n?1:n-1,p=i==n?i:n+1;if(e.fullHtml){s+='<li data-page="1" class="'+(1==n?"active":"")+'"><a class="pageItem" href="'+t.fGetUrl(1)+'">1</a></li>',1<o[0]-1&&(s+="<li><span>"+e.ellipseText+"</span></li>");for(var f=o[0];f<o[1]+1;f++)1!=f&&i!=f&&(s+='<li data-page="'+f+'" class="'+(f==n?"active":"")+'"><a class="pageItem" href="'+t.fGetUrl(f)+'">'+f+"</a></li>");i>o[1]+1&&(s+="<li><span>"+e.ellipseText+"</span></li>"),i>1&&(s+='<li data-page="'+i+'" class="'+(i==n?"active":"")+'"><a class="pageItem" href="'+t.fGetUrl(i)+'">'+e.totalPage+"</a></li>")}return l='<ul class="page-ul"><li class="'+(r==n?"disabled":"")+'"><a data-page="'+r+'" class="pageItem pre" href="'+t.fGetUrl(r)+'">'+e.prevText+"</a></li>"+s+'<li class="'+(p==n?"disabled":"")+'"><a data-page="'+p+'" class="pageItem next" href="'+t.fGetUrl(p)+'">'+e.nextText+"</a></li></ul>"},fGetUrl:function(a){var t=this;return t.options.defaultUrl?yp.format(t.options.defaultUrl,{page:a,per_page:t.options.prePage}):"javascript:;"},fGetListRange:function(){var a,t,e=this;return a=(e.options.curPage-1)*e.options.prePage+1,t=e.options.curPage!=e.options.totalPage?e.options.curPage*e.options.prePage:e.options.count,{nForm:a,nTo:t}}};var e=a.fn.pagination;a.fn.pagination=function(e){return this.each(function(){var n=a(this),i=n.data("pagination"),o=a.extend({},t.DEFAULTS,n.data(),"object"==typeof e&&e);i||n.data("pagination",i=new t(this,o))})},a.fn.pagination.Constructor=t,a.fn.pagination.noConflict=function(){return a.fn.pagination=e,this},"function"==typeof define&&define.amd&&define(function(){return t})}(window.jQuery);